# note記事自動生成エージェント 要件定義書

## 1. プロダクト概要

### 1.1 プロダクト名
note記事自動生成エージェント

### 1.2 コンセプト
noteの記事作成をAIで自動化し、執筆活動をサポートするWebアプリケーション。
キーワードを入力するだけで、SEO最適化された記事本文・図解・画像・SNS告知文までを約75秒で一括生成する。

### 1.3 解決する課題
- 1記事あたり2〜3時間かかるリサーチ・構成・執筆・画像選定・SNS告知文作成の手間
- AIが生成する文章特有の不自然さ（テンプレ感、説明書感、記号過多）
- ファクトチェックの手間と見落としリスク
- 記事に挿入する図解作成の工数（従来Canva等で約20分）

### 1.4 期待される効果
- 記事作成時間：2〜3時間 → 約10分（約94%削減）
- 図解作成時間：約20分 → 約5秒
- 品質の安定化（プロンプト固定による再現性）

---

## 2. ターゲットユーザー

| ペルソナ | ニーズ |
|---------|------|
| noteクリエイター（初心者） | 何から手をつければ良いかわからない。記事作成の全工程をサポートしてほしい |
| noteクリエイター（中級者） | 執筆時間を短縮し、質の高い記事を効率的に量産したい |
| ビジネスパーソン | 情報発信にnoteを活用したいが時間がない。業務効率を上げたい |
| 主婦・主夫 | 限られた時間でも記事を書きたい。隙間時間を活用したい |

---

## 3. 機能要件

### 3.1 記事設定（入力）

ユーザーが記事生成前に設定するパラメータ。

| パラメータ | 種別 | 選択肢 / 仕様 |
|-----------|------|-------------|
| 記事のテーマ・キーワード | テキスト入力（必須） | 例：「副業 始め方」「Obsidian」 |
| 文体（トーン） | セレクト | 丁寧 / フレンドリーで親しみやすい / 専門的で論理的 |
| 想定する読者層 | セレクト | 初心者向け / 中級者向け / 上級者向け |
| カテゴリー | セレクト | ビジネス・副業 / テクノロジー / ライフスタイル 等 |
| 目安文字数 | 数値入力 | 2,500 / 5,000 / 10,000文字 |
| 画像テーマ | テキスト入力 | 記事に合わせた画像生成のテーマ指定 |

### 3.2 記事生成パイプライン（9ステップ・全自動）

総所要時間：約75秒

| Step | 機能名 | 処理内容 | 所要時間 |
|------|-------|---------|---------|
| 1 | SEO分析 | キーワード調査・検索意図分析 | 約5秒 |
| 2 | 記事構成作成 | タイトル・見出し・FAQ構築 | 約8秒 |
| 3 | 本文執筆 | 自然な日本語での記事生成 | 約25秒 |
| 4 | 図解生成 | 内容に応じた自動図解作成（Mermaid） | 約5秒 |
| 5 | ファクトチェック | 事実情報の自動検証 | 約8秒 |
| 6 | アイキャッチ画像生成 | AI画像自動生成 | 約5秒 |
| 7 | 記事内画像生成 | 最大3枚の挿絵作成 | 約10秒 |
| 8 | X投稿文生成 | 5パターンの告知文作成 | 約7秒 |
| 9 | 出力 | 全データの統合 | 約2秒 |

### 3.3 生成ステータス表示

- プログレスバー（パーセンテージ表示）
- 各ステップのアイコン付きステータス（完了✓ / 処理中 / 待機中）
- リアルタイム進捗メッセージ（例：「記事構成案の作成中...」）

---

## 4. 各機能の詳細仕様

### 4.1 SEO分析（Step 1）

- 入力キーワードに対する検索意図の分析
- 関連キーワードの抽出
- 競合コンテンツの傾向分析
- 推奨される記事構成の方向性提案

### 4.2 記事構成作成（Step 2）

- SEO最適化されたタイトル生成
- 見出し構成（H2/H3）の自動設計
- FAQ（よくある質問）セクションの自動生成
- メタディスクリプションの自動生成

### 4.3 本文執筆（Step 3）

AIっぽさを排除した自然な日本語で記事を生成する。

#### 4.3.1 文章生成ルール（独自プロンプト設計）

##### 構成を「崩す」
- 完璧すぎる論理構成を自然な会話調に崩す
- 「まず〜、次に〜、最後に〜」のような機械的な列挙を避ける
- 「会話 → 説明 → 共感」の自然なリズムを優先

##### 感情の「起伏」を作る
- 失敗談・驚き・発見といった感情の変化を意図的に混ぜる
- 体験談・具体例を自動挿入し、感情的な共感を生む

##### リズムを変える（短文＋長文＋余白）
- 均一な文長を避け、呼吸が生まれるよう短文と長文を混ぜる
- 文のリズムを意図的に不均一にする

##### 厳守する文章ルール
- Markdown記法を使わない（太字、見出し記号、装飾は禁止）
- 「」の多用禁止（引用や固有名詞のみ）
- ()の多用禁止（補足は本文に組み込む）
- コロン直後のスペース禁止
- スラッシュでの並列表記禁止
- 締めの定型句禁止
- 前置き宣言禁止（「本記事では」「以下で解説します」等）
- 安全クッション表現の削除（「一般的に」「多くの場合」等）
- 抽象語だけで押し切らない（動詞中心の具体的表現に置換）
- 同義語の言い換え連打禁止（1回で言い切る）
- 一人称の混在禁止

#### 4.3.2 文章改善機能

生成後の記事に対して、以下のルールで自動リライトを実行する。
- 意味と事実関係を変えずに、人が書いたと感じる自然な日本語に書き直す
- 内容の捏造や根拠のない具体化はしない
- 元の文章にない数字・固有名詞・事例は足さない
- 文章量は元文から±20%以内に収める

### 4.4 図解自動生成（Step 4）

- 記事内容を分析し、Mermaid記法で図解を自動生成
- 対応する図解タイプ：
  - フローチャート（プロセスフロー）
  - マインドマップ
  - シーケンス図
  - その他、記事内容に適した形式
- SVG形式でダウンロード可能（noteにそのまま貼り付け可）
- コードコピー機能
- 挿入推奨位置の表示（例：「段落22の後に挿入推奨」）

### 4.5 ファクトチェック機能（Step 5）

外部APIを使って記事内の事実を自動検証する。

#### 4.5.1 検証フロー
1. 情報入力：記事内の事実主張を自動抽出
2. 情報源の検索・収集：複数のソースからデータを収集（学術論文、公式サイト、ニュース記事等）
3. 正確性の検証：収集した情報源と入力情報を照合し、事実関係を検証

#### 4.5.2 判定基準

| 正確性判定 | 条件 |
|-----------|------|
| ✓ 正確 | 情報が複数の信頼できるソースで確認できる |
| ✗ 不正確 | 情報が事実と矛盾している |
| △ 部分的に正確 | 一部は正確だが、誤りも含まれる |
| ? 未検証 | 十分な情報源が見つからない |

| 信頼度評価 | 条件 |
|-----------|------|
| ★★★ 高 | 複数の独立したソースで情報が一致 |
| ★★ 中 | 単一または限定的なソースのみ |
| ★ 低 | 信頼できる情報源が不足している |

#### 4.5.3 参照ソース表示
- 検証に使用した情報源のURLを記録
- 最大3件まで表示
- 信頼性の高い順に並べ替え
- アクセス日時も記録
- ソースの種類を分類

#### 4.5.4 修正提案
- 不正確または部分的に正確な情報がある場合：
  - 正確な情報への修正案を自動生成
  - 修正の根拠となるソースを明示
  - 修正前後の比較を表示

#### 4.5.5 最終出力レポート
- 検証結果サマリー（総チェック数・検証済み・不正確・未検証）
- 詳細な検証プロセス
- 参照情報源リスト
- 改善提案

### 4.6 アイキャッチ画像生成（Step 6）

- AI画像生成APIを使用
- 記事テーマに合わせた画像を自動生成
- noteのアイキャッチに適したサイズで出力

### 4.7 記事内画像生成（Step 7）

- 最大3枚の挿絵を自動生成
- 記事内容に関連した画像テーマ
- ダウンロードボタン付き
- 各画像にキャプション自動付与

### 4.8 X（Twitter）投稿文生成（Step 8）

#### 4.8.1 短文ポスト（140文字以内）
- ターゲット別に4パターン生成（例：初心者、中級者、ビジネスパーソン、主婦・主夫）
- 各ポストに文字数カウント表示
- ハッシュタグ自動付与
- タグ表示（例：note初心者、記事作成、AIツール）
- エンゲージメント予測（低・中・高）
- 個別コピーボタン
- 全てコピーボタン

#### 4.8.2 長文ポスト（300〜500文字）
- ストーリー型（体験談ベース）
- 文字数カウント表示
- ハッシュタグ自動付与
- タグ表示
- エンゲージメント予測（低・中・高）
- コピーボタン

#### 4.8.3 スレッド形式（連続投稿）
- 7ツイート程度の連続投稿形式
- 合計文字数表示
- スレッド全体コピーボタン
- 各ツイートにナンバリング表示

#### 4.8.4 おすすめ投稿時間
- 曜日・時間帯に基づくエンゲージメント率の高い投稿タイミングを提案

### 4.9 出力統合（Step 9）

全ステップの成果物を統合して表示する。

---

## 5. 出力・プレビュー機能

### 5.1 記事本文

- note風プレビュー表示
  - タイトル
  - 執筆者名
  - 投稿日
  - 読了時間（例：「5322分で読めます」→ 正確な計算に基づく）
  - アイキャッチ画像表示
  - 本文表示
- Markdownプレビュー切り替え
- 記事本文コピーボタン

### 5.2 メタディスクリプション

- メタディスクリプションのプレビュー表示
- メタディスクリプションコピーボタン

### 5.3 記事内画像

- サムネイル表示
- ダウンロードボタン（各画像）

### 5.4 図解

- Mermaid図解のレンダリングプレビュー
- コードをコピーボタン
- SVGをコピーボタン
- 挿入推奨位置の表示

### 5.5 ファクトチェック結果

- サマリー表示（総チェック数、検証済み、不正確、未検証）
- 信頼度表示
- レビュー推奨メッセージ
- 詳細チェック結果の展開表示

### 5.6 X投稿案

- 短文ポスト / 長文ポスト / スレッド形式の切り替え表示
- 各フォーマットのコピー機能

---

## 6. 活用シーン

### 6.1 日常的な記事投稿の効率化
- キーワード入力 → 75秒待機 → 確認・微調整 → コピー＆ペースト
- 2〜3時間 → 約10分（約94%削減）

### 6.2 A/Bテスト用の複数バージョン生成
- 同じキーワードで3〜5パターンの記事を並行生成
  - ストーリーテリング型（体験談重視、感情的な共感を狙う）
  - ハウツー型（手順重視、具体的な方法を提示）
  - データドリブン型（統計重視、信頼性と専門性を強調）
- エンゲージメントの高いバージョンを選択可能

### 6.3 音声メモからの記事化
- スマホで録音 → アップロード
- 自動文字起こし → 構成整理 → 記事化まで一気通貫

---

## 7. 非機能要件

### 7.1 パフォーマンス
- 全自動パイプラインの総所要時間：75秒以内
- 各ステップの処理時間は仕様表の通り

### 7.2 対応環境
- Webブラウザ（PC / モバイル対応）
- レスポンシブデザイン

### 7.3 UIデザイン方針
- モダンでクリーンなUI
- グラデーション（紫〜ピンク〜青系）をアクセントに使用
- カード型レイアウト
- ステップごとの進捗が視覚的にわかるデザイン
- アイコン付きステータス表示（キャラクター風アイコン）

---

## 8. 外部連携・API

| 連携先 | 用途 |
|-------|------|
| LLM API（GPT等） | 記事本文生成、構成作成、X投稿文生成 |
| 画像生成AI API | アイキャッチ画像・記事内画像生成 |
| Tavily API等（Web検索） | ファクトチェック用の情報源検索・収集 |
| 音声文字起こしAPI | 音声メモからの文字起こし |

---

## 9. 利用上の注意点（ユーザーへの案内事項）

1. 必ず人の目で最終確認すること
2. 独自の視点や意見を加えること
3. ターゲット読者を意識した調整を行うこと

---

## 10. プロダクトの強み（差別化ポイント）

| 強み | 詳細 |
|-----|------|
| AIっぽくない自然な文章 | 独自の文章生成ルール・プロンプト設計 |
| 体験談・具体例の自動挿入 | 感情的な共感を生む文章構成 |
| SEO最適化済み | キーワード分析・検索意図理解 |
| 画像・図解まで自動生成 | アイキャッチ＋記事内3枚＋Mermaid図解 |
| SNS告知文も自動生成 | 5パターン×異なる文字数（短文・長文・スレッド） |
| ファクトチェック済み | 外部API連携による信頼性の担保 |
| 時間短縮 | 2〜3時間 → 約10分（94%削減） |
| 品質の安定化 | プロンプト固定で毎回同じクオリティ |
